<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Variation: ì–´ìŠ¹ê¸° í¬íŠ¸í´ë¦¬ì˜¤</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');

        body {
            font-family: 'Pretendard', sans-serif;
            background-color: #FDFBF7;
            color: #1e293b;
            font-size: 18px; /* ê¸°ë³¸ í°íŠ¸ ì‚¬ì´ì¦ˆ ì¦ëŒ€ */
        }

        .font-serif {
            font-family: 'Playfair Display', serif;
        }

        .section-header {
            margin-bottom: 4rem; /* ì—¬ë°± ì¦ëŒ€ */
            text-align: center;
        }

        .section-title {
            font-size: 2.5rem; /* ì œëª© í¬ê¸° ì¦ëŒ€ */
            font-weight: 800;
            color: #1e293b;
            margin-bottom: 1.5rem;
            display: inline-block;
            position: relative;
        }

        .btn-primary {
            background-color: #1e293b;
            color: white;
            padding: 1rem 2.5rem; /* ë²„íŠ¼ íŒ¨ë”© ì¦ëŒ€ */
            border-radius: 6px;
            font-size: 1.1rem; /* ë²„íŠ¼ í°íŠ¸ ì¦ëŒ€ */
            font-weight: 600;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .btn-primary:hover {
            background-color: #334155;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .input-field {
            width: 100%;
            background-color: #f8fafc;
            border: 1px solid #cbd5e1;
            padding: 1.25rem; /* ì…ë ¥ì°½ íŒ¨ë”© ì¦ëŒ€ */
            font-size: 1.1rem; /* ì…ë ¥ í°íŠ¸ ì¦ëŒ€ */
            border-radius: 6px;
            transition: all 0.2s;
            resize: none;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #1e293b;
            background-color: #fff;
        }

        .nav-link {
            cursor: pointer;
            padding: 0.75rem 1.5rem; /* ë„¤ë¹„ê²Œì´ì…˜ ë§í¬ ì˜ì—­ ì¦ëŒ€ */
            border-radius: 6px;
            transition: background 0.2s;
            color: #64748b;
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .nav-link:hover, .nav-link.active {
            color: #1e293b;
            background-color: rgba(0,0,0,0.05);
        }

        .chart-wrapper {
            position: relative;
            height: 400px; /* ì°¨íŠ¸ ë†’ì´ ì¦ëŒ€ */
            width: 100%;
        }
        
        .code-block {
            font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
            font-size: 1rem; /* ì½”ë“œ í°íŠ¸ ì¦ëŒ€ */
            line-height: 1.6;
            background-color: #1e1e1e;
            color: #d4d4d4;
            padding: 2rem; /* ì½”ë“œ ë¸”ë¡ íŒ¨ë”© ì¦ëŒ€ */
            border-radius: 10px;
            overflow-x: auto;
            border: 1px solid #333;
        }
        .code-keyword { color: #569cd6; }
        .code-string { color: #ce9178; }
        .code-function { color: #dcdcaa; }
        .code-comment { color: #6a9955; font-style: italic; }

        /* ì»¤ìŠ¤í…€ í† ê¸€ ìŠ¤ìœ„ì¹˜ í¬ê¸° ì¡°ì • */
        .toggle-checkbox {
            width: 3.5rem;
            height: 2rem;
        }
        
    </style>
</head>
<body class="antialiased">

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-gray-200">
        <div class="max-w-screen-2xl mx-auto px-6 lg:px-12">
            <div class="flex justify-between items-center h-24">
                <div class="flex items-center gap-3">
                    <span class="font-serif font-bold text-3xl text-slate-900">Project Variation</span>
                </div>
                <div class="hidden md:flex space-x-4">
                    <a class="nav-link active" onclick="scrollToSection('overview')">ê°œìš” & ê¸°íš</a>
                    <a class="nav-link" onclick="scrollToSection('features')">í•µì‹¬ ê¸°ëŠ¥</a>
                    <a class="nav-link" onclick="scrollToSection('architecture')">ê¸°ìˆ  ì•„í‚¤í…ì²˜</a>
                    <a class="nav-link" onclick="scrollToSection('demo')">Live ì‹œì—°</a>
                    <a class="nav-link" onclick="scrollToSection('video')">ì‹œì—° ì˜ìƒ</a>
                </div>
                <div class="flex items-center gap-4">
                    <a href="https://github.com/your-username/project-variation" target="_blank" class="text-slate-600 hover:text-black transition-colors">
                        <i class="fa-brands fa-github fa-2x"></i>
                    </a>
                    <span class="text-lg font-bold bg-slate-100 px-4 py-2 rounded-full text-slate-600">ì–´ìŠ¹ê¸°</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <main class="max-w-screen-2xl mx-auto px-6 lg:px-12 py-16 space-y-40">

        <!-- 1. Overview & Hero -->
        <section id="overview" class="pt-16 text-center">
            <h1 class="text-6xl md:text-7xl lg:text-8xl font-serif font-bold text-slate-900 mb-8 leading-tight">
                ë‹¹ì‹ ì˜ ë¬¸ì¥ì—<br>
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-slate-700 to-slate-900">ìƒˆë¡œìš´ ê´€ì (Variation)</span>ì„ ë”í•˜ë‹¤
            </h1>
            <p class="text-2xl md:text-3xl text-slate-600 max-w-4xl mx-auto mb-14 leading-relaxed font-light">
                ì •í˜•í™”ëœ ë‹µë³€ë§Œ ë‚´ë†“ëŠ” ì±—ë´‡ì´ ì•„ë‹™ë‹ˆë‹¤. <br>
                <strong>ì™€ì¼ë“œì¹´ë“œ</strong>ì™€ <strong>RAG</strong>ë¥¼ í†µí•´ ì¼ë°˜ì ì¸ AIì—ì„œëŠ” ì–»ì„ ìˆ˜ ì—†ëŠ”<br>
                <strong>ì˜ˆìƒ ë°–ì˜ í†µì°°ê³¼ ì„œì‚¬ì  ì˜ê°</strong>ì„ ì œê³µí•˜ëŠ” ì‘ë¬¸ íŒŒíŠ¸ë„ˆì…ë‹ˆë‹¤.
            </p>
            
            <div class="flex justify-center gap-6">
                <a href="https://github.com/your-repo-link" target="_blank" class="btn-primary">
                    <i class="fa-brands fa-github fa-lg"></i> GitHub ì½”ë“œ ë³´ê¸° (ë°°í¬)
                </a>
                <button onclick="scrollToSection('demo')" class="px-10 py-4 bg-white text-slate-700 font-bold text-xl rounded-lg border-2 border-slate-300 hover:bg-slate-50 transition-colors">
                    ê¸°ëŠ¥ ì²´í—˜í•˜ê¸°
                </button>
            </div>

            <!-- Planning & Dev Details (ìˆ˜ì •ë¨) -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-10 mt-24 text-left">
                <div class="bg-white p-10 rounded-2xl border border-slate-200 shadow-sm">
                    <h3 class="text-2xl font-bold mb-6 flex items-center gap-3">
                        <i class="fa-solid fa-bullseye text-blue-600 text-3xl"></i> ëª©í‘œ ê¸°ëŠ¥
                    </h3>
                    <p class="text-slate-600 text-lg leading-loose mb-6">
                        ê¸°ì¡´ ì±—ë´‡ì€ 'ì •ë‹µ'ê³¼ 'ì¼ê´€ì„±'ì— ì§‘ì¤‘í•˜ì—¬ ì°½ì˜ì ì¸ ê¸€ì“°ê¸°ì—ëŠ” í•œê³„ê°€ ìˆì—ˆìŠµë‹ˆë‹¤. <strong>Project Variation</strong>ì€ ì´ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•´ <strong>'ì™€ì¼ë“œì¹´ë“œ RAG'</strong> ì‹œìŠ¤í…œì„ ë„ì…í–ˆìŠµë‹ˆë‹¤.
                    </p>
                    <ul class="list-disc list-inside text-slate-600 text-lg space-y-3">
                        <li><strong>ì˜ë„ëœ ì´ì§ˆì„±:</strong> ë¬¸ë§¥ê³¼ ë¬´ê´€í•œ ë‚¯ì„  ê°ê° ì •ë³´ë¥¼ ì£¼ì…í•˜ì—¬ ì‚¬ê³ ì˜ í‹€ì„ ê¹¹ë‹ˆë‹¤.</li>
                        <li><strong>ì‚¬ìš©ì ì£¼ë„ ì œì–´:</strong> AIì˜ ìƒì„± ë°©í–¥(ì„¸ê³„ê´€, ìºë¦­í„°, ë¬¸ì²´, ì˜ì™¸ì„±)ì„ ì‚¬ìš©ìê°€ ì§ì ‘ ëª¨ë“ˆ ë‹¨ìœ„ë¡œ ì¡°ìœ¨í•©ë‹ˆë‹¤.</li>
                    </ul>
                </div>
                <div class="bg-white p-10 rounded-2xl border border-slate-200 shadow-sm">
                    <h3 class="text-2xl font-bold mb-6 flex items-center gap-3">
                        <i class="fa-solid fa-code text-green-600 text-3xl"></i> ê°œë°œ ê¸°ëŠ¥
                    </h3>
                    <ul class="space-y-4 text-slate-600 text-lg">
                        <li class="flex items-center gap-3"><i class="fa-brands fa-react text-blue-500"></i> <strong>Frontend:</strong> React, TypeScript, Tailwind CSS (ë°˜ì‘í˜• UI)</li>
                        <li class="flex items-center gap-3"><i class="fa-brands fa-node text-green-600"></i> <strong>Backend:</strong> Node.js, Express (3ì¤‘ RAG íŒŒì´í”„ë¼ì¸ êµ¬ì¶•)</li>
                        <li class="flex items-center gap-3"><i class="fa-solid fa-microchip text-slate-700"></i> <strong>AI Engine:</strong> Ollama (Local LLaMA 3 8B Instruct ëª¨ë¸)</li>
                        <li class="flex items-center gap-3"><i class="fa-solid fa-bolt text-yellow-500"></i> <strong>Feature:</strong> ë™ì  í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§, ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- 2. Key Features -->
        <section id="features" class="scroll-mt-32">
            <div class="section-header">
                <h2 class="section-title">í•µì‹¬ ê¸°ëŠ¥</h2>
                <p class="text-xl text-slate-500 mt-2">ComfyUIì˜ ëª¨ë“ˆí™” ì² í•™ì„ ë°˜ì˜í•œ ì§ê´€ì ì¸ 'AI ë¯¹ì„œ' ì¸í„°í˜ì´ìŠ¤</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
                <!-- Feature 1 -->
                <div class="bg-white p-10 rounded-2xl border border-slate-200 hover:shadow-xl transition-shadow">
                    <div class="w-16 h-16 bg-slate-900 rounded-xl flex items-center justify-center text-white text-3xl mb-8">
                        <i class="fa-solid fa-sliders"></i>
                    </div>
                    <h3 class="text-2xl font-bold mb-4">AI ë¯¹ì„œ UI</h3>
                    <p class="text-slate-600 text-lg leading-relaxed">
                        ë³µì¡í•œ AI íŒŒë¼ë¯¸í„°ë¥¼ ì˜¤ë””ì˜¤ ë¯¹ì„œì²˜ëŸ¼ ì§ê´€ì ìœ¼ë¡œ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <strong>ê° ê¸°ëŠ¥ì„ ëª¨ë“ˆí™”í•˜ì—¬ ON/OFF ìŠ¤ìœ„ì¹˜ì™€ ìŠ¬ë¼ì´ë”ë¡œ ì†ì‰½ê²Œ ì¡°ì‘</strong>í•˜ë©°, ê²°ê³¼ë¬¼ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì¦‰ê°ì ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ì ì¹œí™”ì  ë””ìì¸ì„ ì ìš©í–ˆìŠµë‹ˆë‹¤.
                    </p>
                </div>
                <!-- Feature 2 -->
                <div class="bg-white p-10 rounded-2xl border border-slate-200 hover:shadow-xl transition-shadow">
                    <div class="w-16 h-16 bg-slate-900 rounded-xl flex items-center justify-center text-white text-3xl mb-8">
                        <i class="fa-solid fa-book-journal-whills"></i>
                    </div>
                    <h3 class="text-2xl font-bold mb-4">ë¡œì–´ë¶</h3>
                    <p class="text-slate-600 text-lg leading-relaxed">
                        ì‚¬ìš©ìê°€ ì •ì˜í•œ ê³ ìœ í•œ ì„¸ê³„ê´€ê³¼ ìºë¦­í„° ì„¤ì •ì„ RAGë¡œ ì£¼ì…í•©ë‹ˆë‹¤. AIê°€ ì´ ì„¤ì •ì„ ì² ì €íˆ ì¤€ìˆ˜í•˜ë©° ì„œì‚¬ë¥¼ ì „ê°œí•˜ë„ë¡ ê°•ì œí•©ë‹ˆë‹¤.
                    </p>
                </div>
                <!-- Feature 3 -->
                <div class="bg-white p-10 rounded-2xl border border-slate-200 hover:shadow-xl transition-shadow bg-slate-50">
                    <div class="w-16 h-16 bg-indigo-600 rounded-xl flex items-center justify-center text-white text-3xl mb-8">
                        <i class="fa-solid fa-dice-d20"></i>
                    </div>
                    <h3 class="text-2xl font-bold mb-4 text-indigo-900">ì™€ì¼ë“œì¹´ë“œ</h3>
                    <p class="text-slate-600 text-lg leading-relaxed">
                        <strong>í”„ë¡œì íŠ¸ì˜ í•µì‹¬ ì°¨ë³„ì .</strong> ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ 'ê°ê°/ì˜¤ë¸Œì íŠ¸' ë°ì´í„°ë¥¼ ë¬´ì‘ìœ„ë¡œ ì¶”ì¶œí•´ ë¬¸ë§¥ì— ì¶©ëŒì‹œí‚´ìœ¼ë¡œì¨, í‰ë²”í•œ ë¬¸ì¥ì— ë…ì°½ì ì¸ ê´€ì ì„ ë¶€ì—¬í•©ë‹ˆë‹¤.
                    </p>
                </div>
            </div>
        </section>

        <!-- 3. Tech Architecture & Core Code -->
        <section id="architecture" class="scroll-mt-32">
            <div class="section-header">
                <h2 class="section-title">ê¸°ìˆ  ì•„í‚¤í…ì²˜ ë° í•µì‹¬ ë¡œì§</h2>
                <p class="text-xl text-slate-500 mt-2">Local LLM ê¸°ë°˜ RAG íŒŒì´í”„ë¼ì¸ êµ¬ì¡° ë° êµ¬í˜„ ë‚´ì—­</p>
            </div>

            <div class="max-w-screen-xl mx-auto space-y-16">
                
                <!-- Diagram -->
                <div class="flex flex-col md:flex-row items-center justify-center gap-10 py-16 bg-white border border-slate-200 rounded-3xl shadow-sm">
                    
                    <!-- Client Block -->
                    <div class="flex flex-col items-center p-8 bg-slate-50 border border-slate-200 rounded-2xl w-80 shadow-sm hover:shadow-md transition-all">
                        <i class="fa-brands fa-react text-7xl text-blue-500 mb-6"></i>
                        <h4 class="font-bold text-slate-800 text-2xl">Client</h4>
                        <span class="text-sm font-semibold bg-blue-100 text-blue-800 px-3 py-1.5 rounded mt-3">React + Tailwind</span>
                        <p class="text-base text-slate-500 text-center mt-4 leading-relaxed">
                            ì‚¬ìš©ì UI/UX<br>
                            ëª¨ë“ˆ ì œì–´ (Toggle)<br>
                            ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ í‘œì‹œ
                        </p>
                    </div>

                    <!-- Arrow 1 -->
                    <div class="flex flex-col items-center gap-2">
                        <span class="text-sm text-slate-400 font-mono font-bold">JSON Req/Res</span>
                        <div class="hidden md:flex items-center">
                            <div class="w-4 h-4 rounded-full bg-slate-300"></div>
                            <div class="h-1.5 w-24 bg-slate-300"></div>
                            <i class="fa-solid fa-caret-right text-slate-300 text-3xl -ml-2"></i>
                        </div>
                        <i class="fa-solid fa-arrow-down text-slate-300 text-4xl md:hidden"></i>
                    </div>

                    <!-- Server Block -->
                    <div class="flex flex-col items-center p-8 bg-white border-2 border-indigo-100 rounded-2xl w-80 shadow-md relative">
                        <div class="absolute -top-4 bg-indigo-600 text-white px-4 py-1.5 rounded-full text-sm font-bold shadow-sm">Core Logic</div>
                        <i class="fa-brands fa-node text-7xl text-green-600 mb-6"></i>
                        <h4 class="font-bold text-slate-800 text-2xl">Server</h4>
                        <span class="text-sm font-semibold bg-green-100 text-green-800 px-3 py-1.5 rounded mt-3">Node.js + Express</span>
                        <div class="mt-6 w-full bg-indigo-50 p-3 rounded text-sm text-center border border-indigo-100">
                            <i class="fa-solid fa-database text-indigo-400 mr-2"></i>
                            <strong>RAG Data</strong><br>
                            (Lorebook, Style, Wildcard)
                        </div>
                        <p class="text-base text-slate-500 text-center mt-4 leading-relaxed">
                            í”„ë¡¬í”„íŠ¸ ë™ì  ì¡°ë¦½<br>
                            ì»¨í…ìŠ¤íŠ¸ ì£¼ì…
                        </p>
                    </div>

                    <!-- Arrow 2 -->
                    <div class="flex flex-col items-center gap-2">
                        <span class="text-sm text-slate-400 font-mono font-bold">API Call</span>
                        <div class="hidden md:flex items-center">
                            <div class="w-4 h-4 rounded-full bg-slate-300"></div>
                            <div class="h-1.5 w-24 bg-slate-300"></div>
                            <i class="fa-solid fa-caret-right text-slate-300 text-3xl -ml-2"></i>
                        </div>
                        <i class="fa-solid fa-arrow-down text-slate-300 text-4xl md:hidden"></i>
                    </div>

                    <!-- AI Block -->
                    <div class="flex flex-col items-center p-8 bg-slate-800 border border-slate-700 rounded-2xl w-80 shadow-lg text-white">
                        <i class="fa-solid fa-microchip text-7xl text-blue-400 mb-6 animate-pulse"></i>
                        <h4 class="font-bold text-white text-2xl">Local LLM</h4>
                        <span class="text-sm font-semibold bg-slate-700 text-slate-300 px-3 py-1.5 rounded mt-3">Ollama</span>
                        <p class="text-base text-slate-400 text-center mt-4 leading-relaxed">
                            LLaMA 3 8B Instruct<br>
                            í…ìŠ¤íŠ¸ ìƒì„± & ì¶”ë¡ <br>
                            (Offline Environment)
                        </p>
                    </div>
                </div>

                <!-- Code Snippet -->
                <div class="bg-gray-900 rounded-xl overflow-hidden shadow-2xl border border-gray-700">
                    <div class="flex items-center justify-between px-6 py-4 bg-gray-800 border-b border-gray-700">
                        <div class="flex gap-3">
                            <div class="w-4 h-4 rounded-full bg-red-500"></div>
                            <div class="w-4 h-4 rounded-full bg-yellow-500"></div>
                            <div class="w-4 h-4 rounded-full bg-green-500"></div>
                        </div>
                        <span class="text-sm text-gray-400 font-mono flex items-center gap-2">
                            <i class="fa-brands fa-js"></i> server/index.js (Backend Logic)
                        </span>
                    </div>
                    <div class="code-block p-8">
<span class="code-keyword">app</span>.<span class="code-function">post</span>(<span class="code-string">'/api/generate'</span>, <span class="code-keyword">async</span> (req, res) => {
  <span class="code-keyword">const</span> { lorebook1, characters, styles, wildcard, prompt } = req.body;

  <span class="code-comment">// 1. ì™€ì¼ë“œì¹´ë“œ RAG: ë¬´ì‘ìœ„ ì˜ê° ìš”ì†Œ(ë°ì´í„°) ì¶”ì¶œ</span>
  <span class="code-keyword">let</span> wildcardText = <span class="code-string">''</span>;
  <span class="code-keyword">if</span> (wildcard) {
    <span class="code-keyword">const</span> data = fs.<span class="code-function">readFileSync</span>(path.<span class="code-function">join</span>(__dirname, <span class="code-string">'data'</span>, <span class="code-string">'wildcards.txt'</span>), <span class="code-string">'utf8'</span>);
    <span class="code-keyword">const</span> lines = data.<span class="code-function">split</span>(<span class="code-string">'\n'</span>).<span class="code-function">filter</span>(line => line.<span class="code-function">trim</span>() !== <span class="code-string">''</span>);
    wildcardText = lines[Math.<span class="code-function">floor</span>(Math.<span class="code-function">random</span>() * lines.length)].<span class="code-function">trim</span>();
  }

  <span class="code-comment">// 2. ë™ì  í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ (Context Injection)</span>
  <span class="code-keyword">let</span> finalPrompt = <span class="code-string">"ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ, ë¬¸ì¥ì„ í’ì„±í•˜ê²Œ ê°ìƒ‰í•˜ê³  í™•ì¥í•´ ì£¼ì„¸ìš”...\n\n"</span>;

  <span class="code-keyword">if</span> (lorebook1.enabled) finalPrompt += <span class="code-string">`[ë¡œì–´ë¶ (ì„¤ì •)]\n${lorebook1.text}\n\n`</span>;
  <span class="code-keyword">if</span> (styles.length > 0) finalPrompt += <span class="code-string">`[ì„ í˜¸ ë¬¸ì²´]\n- ${styles.join(', ')}\n\n`</span>;
  <span class="code-keyword">if</span> (wildcardText) finalPrompt += <span class="code-string">`[ì™€ì¼ë“œì¹´ë“œ (ì˜ê° ìš”ì†Œ)]\n- "${wildcardText}"\n(ì´ ë¬¸êµ¬ì˜ ë¶„ìœ„ê¸°ë¥¼ ê¸€ì— ì€ìœ ì ìœ¼ë¡œ ë…¹ì—¬ë‚´ì„¸ìš”.)\n\n`</span>;
  
  finalPrompt += <span class="code-string">`[ì‚¬ìš©ì ì…ë ¥ (ì´ˆì•ˆ)]\n${prompt}\n\n`</span>;

  <span class="code-comment">// 3. Ollama API (Local LLM) í˜¸ì¶œ ë° ìŠ¤íŠ¸ë¦¬ë°</span>
  <span class="code-keyword">const</span> requestBody = JSON.<span class="code-function">stringify</span>({
    model: <span class="code-string">"llama3:instruct"</span>,
    prompt: finalPrompt,
    stream: <span class="code-keyword">true</span>,
  });
  
  <span class="code-comment">// ... (HTTP ìš”ì²­ ì „ì†¡ ë° ì‘ë‹µ ì²˜ë¦¬)</span>
});
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. Live Demo (Simulation) -->
        <section id="demo" class="scroll-mt-32">
            <div class="section-header">
                <h2 class="section-title">ê¸°ëŠ¥ ì‹œì—°</h2>
                <p class="text-xl text-slate-500 mt-2">ì‹¤ì œ êµ¬í˜„ëœ <code>App.tsx</code>ì˜ UIì™€ RAG ë¡œì§ì„ ì‹œë®¬ë ˆì´ì…˜í•œ <strong>ë§›ë³´ê¸°</strong>ì…ë‹ˆë‹¤.</p>
                <p class="text-base text-slate-400 mt-1">* ì„œë²„ ì—°ê²° ì—†ì´ ë™ì‘í•˜ë„ë¡ ì¬êµ¬ì„±ëœ ë²„ì „ì…ë‹ˆë‹¤.</p>
            </div>

            <div class="max-w-screen-2xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden border border-slate-200">
                <!-- App Header Simulation -->
                <div class="bg-[#FDFBF7] p-10 border-b border-slate-100 text-center">
                    <h3 class="text-4xl font-serif font-bold text-slate-900 mb-3">Project Variation Console</h3>
                    <p class="text-slate-500 font-serif italic text-lg">ë‹¹ì‹ ì˜ ìƒìƒ, ì„¸ ê°€ì§€ ì´ì•¼ê¸°ë¡œ í”¼ì–´ë‚˜ë‹¤.</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-12 min-h-[800px]">
                    <!-- Control Panel (Expanded) -->
                    <div class="lg:col-span-5 bg-slate-50 border-r border-slate-200 p-10 space-y-10 overflow-y-auto max-h-[1000px]">
                        
                        <!-- Lorebook -->
                        <div class="space-y-4">
                            <div class="flex justify-between items-center">
                                <h4 class="font-serif font-bold text-slate-800 text-xl border-l-8 border-slate-800 pl-4">ë¡œì–´ë¶ (ì„¤ì •)</h4>
                                <label class="flex items-center gap-3 cursor-pointer">
                                    <input type="checkbox" id="lorebook-toggle" class="w-6 h-6 accent-slate-800" checked>
                                    <span class="text-sm font-bold text-slate-600">ON</span>
                                </label>
                            </div>
                            <textarea id="lorebook-input" rows="4" class="input-field text-base" placeholder="ì„¸ê³„ê´€ ì„¤ì •ì„ ì…ë ¥í•˜ì„¸ìš”...">ì´ ì„¸ê³„ëŠ” ë§ˆë²•ê³¼ ê¸°ê³„ê³µí•™ì´ ê³µì¡´í•˜ë©°, í•˜ëŠ˜ì—ëŠ” ë‘ ê°œì˜ ë¶‰ì€ ë‹¬ì´ ë–  ìˆë‹¤.</textarea>
                        </div>

                        <!-- Character (NEW) -->
                        <div class="space-y-4">
                            <div class="flex justify-between items-center">
                                <h4 class="font-serif font-bold text-slate-800 text-xl border-l-8 border-slate-800 pl-4">ìºë¦­í„° ì„¤ì •</h4>
                                <label class="flex items-center gap-3 cursor-pointer">
                                    <input type="checkbox" id="char-toggle" class="w-6 h-6 accent-slate-800" checked>
                                    <span class="text-sm font-bold text-slate-600">ON</span>
                                </label>
                            </div>
                            <div class="space-y-3">
                                <textarea id="char1-input" rows="3" class="input-field text-base" placeholder="ìºë¦­í„° 1: ì´ë¦„, ì„±ê²©, íŠ¹ì§•...">ì´ë¦„: ì¹´ì¼, ì„±ê²©: ëƒ‰ì†Œì ì´ê³  ê³¼ë¬µí•¨, íŠ¹ì§•: ì˜¤ë¥¸íŒ”ì´ ê¸°ê³„ ì˜ìˆ˜ë¡œ ë˜ì–´ ìˆìŒ.</textarea>
                                <textarea id="char2-input" rows="3" class="input-field text-base" placeholder="ìºë¦­í„° 2 (ì„ íƒ): ì´ë¦„, ì„±ê²©...">ì´ë¦„: ì—˜ë¼, ì„±ê²©: í˜¸ê¸°ì‹¬ ë§ê³  í™œë°œí•¨, íŠ¹ì§•: ê³ ëŒ€ ì–¸ì–´ë¥¼ í•´ì„í•  ì¤„ ì•.</textarea>
                            </div>
                        </div>

                        <!-- Style -->
                        <div class="space-y-4">
                            <h4 class="font-serif font-bold text-slate-800 text-xl border-l-8 border-slate-800 pl-4">ë¬¸ì²´ ì„ íƒ</h4>
                            <div class="flex flex-wrap gap-3">
                                <label class="cursor-pointer px-5 py-2.5 rounded-full border border-slate-200 bg-white text-base has-[:checked]:bg-slate-800 has-[:checked]:text-white transition-colors">
                                    <input type="radio" name="style" value="ëŠì™€ë¥´" class="hidden" checked> ëŠì™€ë¥´
                                </label>
                                <label class="cursor-pointer px-5 py-2.5 rounded-full border border-slate-200 bg-white text-base has-[:checked]:bg-slate-800 has-[:checked]:text-white transition-colors">
                                    <input type="radio" name="style" value="ê±´ì¡°í•œ" class="hidden"> ê±´ì¡°í•œ
                                </label>
                                <label class="cursor-pointer px-5 py-2.5 rounded-full border border-slate-200 bg-white text-base has-[:checked]:bg-slate-800 has-[:checked]:text-white transition-colors">
                                    <input type="radio" name="style" value="ë™í™”í’" class="hidden"> ë™í™”í’
                                </label>
                                <label class="cursor-pointer px-5 py-2.5 rounded-full border border-slate-200 bg-white text-base has-[:checked]:bg-slate-800 has-[:checked]:text-white transition-colors">
                                    <input type="radio" name="style" value="ì›…ì¥í•œ" class="hidden"> ì›…ì¥í•œ
                                </label>
                            </div>
                        </div>

                        <!-- Wildcard -->
                        <div class="space-y-4 pt-6 border-t border-slate-200">
                            <div class="flex justify-between items-center bg-indigo-50 p-5 rounded-xl border border-indigo-100">
                                <div class="flex items-center gap-3">
                                    <h4 class="font-serif font-bold text-indigo-900 text-xl">ì™€ì¼ë“œì¹´ë“œ</h4>
                                </div>
                                <label class="flex items-center gap-3 cursor-pointer">
                                    <input type="checkbox" id="wildcard-toggle" class="w-6 h-6 accent-indigo-600" checked>
                                    <span class="text-sm font-bold text-indigo-700">ON</span>
                                </label>
                            </div>
                            <p class="text-base text-slate-500 px-2 leading-relaxed">
                                * <code>data/wildcards.txt</code>ì˜ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜ˆìƒì¹˜ ëª»í•œ ê´€ì ì„ ì£¼ì…í•©ë‹ˆë‹¤.
                            </p>
                        </div>
                    </div>

                    <!-- Input/Output Panel -->
                    <div class="lg:col-span-7 p-10 flex flex-col bg-white">
                        <div class="mb-10 relative">
                            <h4 class="font-serif font-bold text-slate-800 mb-4 flex items-center gap-3 text-xl">
                                <span class="w-2 h-8 bg-slate-800 block"></span> ì‘ì„± ìš”ì²­
                            </h4>
                            <textarea id="user-input" rows="5" class="input-field text-xl resize-none shadow-sm mb-6" placeholder="ì–´ë–¤ ì´ì•¼ê¸°ë¥¼ ì“°ê³  ì‹¶ìœ¼ì‹ ê°€ìš”?">ê·¸ê°€ ë°©ì— ë“¤ì–´ì™”ë‹¤.</textarea>
                            <div class="text-right">
                                <button id="generate-btn" class="btn-primary text-lg">
                                    <i class="fa-solid fa-pen-nib"></i> ì‘ì„± ì‹œì‘
                                </button>
                            </div>
                        </div>

                        <div class="flex-grow flex flex-col pt-10 border-t border-slate-100">
                            <h4 class="font-serif font-bold text-slate-800 mb-4 flex items-center gap-3 justify-between text-xl">
                                <div><span class="w-2 h-8 bg-slate-800 inline-block mr-3 align-middle"></span>ê²°ê³¼ë¬¼ (3ê°€ì§€ ë³€ì£¼)</div>
                                <span id="status-indicator" class="text-base font-normal text-slate-400 font-sans">Ready</span>
                            </h4>
                            
                            <div id="output-area" class="flex-grow bg-[#FDFBF7] rounded-xl border border-slate-200 p-8 overflow-y-auto space-y-8 font-serif text-slate-700 leading-loose min-h-[400px] text-lg">
                                <div class="text-center text-slate-300 mt-28">
                                    <p class="text-xl">ì…ë ¥ëœ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ìƒˆë¡œìš´ ì´ì•¼ê¸°ê°€ ì´ê³³ì— í”¼ì–´ë‚©ë‹ˆë‹¤.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 5. Demo Video -->
        <section id="video" class="scroll-mt-32 mb-40">
            <div class="section-header">
                <h2 class="section-title">ì‹œì—° ë™ì˜ìƒ</h2>
                <p class="text-xl text-slate-500 mt-2">ì‹¤ì œ ë¡œì»¬ í™˜ê²½ì—ì„œì˜ êµ¬ë™ ë° í™œìš© ì˜ˆì‹œ</p>
            </div>
            
            <div class="max-w-6xl mx-auto aspect-video bg-black rounded-2xl shadow-2xl overflow-hidden border border-slate-800">
                <iframe class="w-full h-full" src="https://drive.google.com/file/d/1vcHXdy33oG-izzBze5eOKr5-FqpHColP/preview" allow="autoplay"></iframe>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 py-16 mt-20">
        <div class="max-w-screen-xl mx-auto px-6 text-center">
            <p class="text-slate-800 font-serif font-bold text-2xl mb-3">Project Variation</p>
            <p class="text-slate-500 text-lg">2025-1 Semester Final Project â€¢ Developer: ì–´ìŠ¹ê¸°</p>
            <div class="mt-6 flex justify-center gap-6">
                <a href="#" class="text-slate-400 hover:text-slate-900 transition-colors"><i class="fa-brands fa-github fa-2x"></i></a>
                <a href="#" class="text-slate-400 hover:text-slate-900 transition-colors"><i class="fa-solid fa-envelope fa-2x"></i></a>
            </div>
        </div>
    </footer>

    <script>
        // ============================================================
        // 1. Simulation Logic (Recreating Backend + LLM Logic)
        // ============================================================

        // Mock Data: wildcards.txt content from index.js
        const wildcardsData = [
            "[ê°ê°:ì‹œê°] ì„¸ìƒì˜ ëª¨ë“  ìƒ‰ì´ íšŒìƒ‰ìœ¼ë¡œ ë°”ëœ ë“¯í•œ",
            "[ê°ê°:ì²­ê°] ìœ ë¦¬ì”ì´ ë°”ë‹¥ì— ë–¨ì–´ì ¸ ì‚°ì‚°ì¡°ê° ë‚˜ëŠ” ì†Œë¦¬",
            "[ê°ê°:í›„ê°] ë¹„ì— ì –ì€ í™ë‚´ìŒê³¼ ë…¹ìŠ¨ ì‡  ëƒ„ìƒˆ",
            "[ê°ê°:ì´‰ê°] ì–¼ìŒì„ ë§Œì§„ ë“¯ ì†ëì´ ì €ë¦¿í•œ",
            "[ë¶„ìœ„ê¸°:ì¥ì†Œ] ì•„ë¬´ë„ ì—†ëŠ” ìƒˆë²½ 3ì‹œì˜ í…… ë¹ˆ ë„ë¡œ",
            "[ê°œë…:ì¶”ìƒ] ë¯¿ì—ˆë˜ ì§„ì‹¤ì´ ê±°ì§“ìœ¼ë¡œ ë°í˜€ì§€ëŠ” ìˆœê°„",
            "[ì˜¤ë¸Œì íŠ¸] ë©ˆì¶°ë²„ë¦° íšŒì¤‘ì‹œê³„"
        ];

        function generateResponse(input, lorebook, characters, style, useWildcard) {
            const variations = [];
            
            // Base context setup
            let contextMsg = "";
            let loreSummary = "";
            if (lorebook.enabled && lorebook.text) {
                loreSummary = lorebook.text.substring(0, 10);
                contextMsg += ` [ì„¤ì •: ${loreSummary}...]`;
            }
            if (characters.enabled && characters.text1) {
                const charName = characters.text1.split(',')[0].split(':')[1]?.trim() || "ìºë¦­í„°";
                contextMsg += ` [ì¸ë¬¼: ${charName}]`;
            }

            // Variation 1: Narrative Expansion
            let v1 = `<strong>[ë³€ì£¼ 1: ì„œì‚¬ í™•ì¥]</strong>\n`;
            if (style === "ëŠì™€ë¥´") {
                v1 += `ì§™ì€ ì–´ë‘ ì´ ë‚´ë ¤ì•‰ì€ ê±°ë¦¬, ${input} ì°¨ê°€ìš´ ë¹—ì¤„ê¸°ë§Œì´ ê·¸ ëª¨ìŠµì„ ì§€ì¼œë³´ê³  ìˆì—ˆë‹¤.${contextMsg}`;
            } else if (style === "ë™í™”í’") {
                v1 += `ì˜›ë‚  ì•„ì£¼ ë¨¼ ì˜›ë‚ , ${input} ë§ˆì¹˜ ë§ˆë²•ì²˜ëŸ¼ ì‹ ë¹„ë¡œìš´ ì¼ì´ ì¼ì–´ë‚¬ë‹µë‹ˆë‹¤.${contextMsg}`;
            } else {
                v1 += `${input} ê·¸ ìˆœê°„, ê³µê¸°ì˜ íë¦„ì´ ë°”ë€ŒëŠ” ê²ƒì´ ëŠê»´ì¡Œë‹¤. ì˜ˆê°ì€ í‹€ë¦¬ì§€ ì•Šì•˜ë‹¤.${contextMsg}`;
            }
            variations.push(v1);

            // Variation 2: Emotional Depth
            let v2 = `<strong>[ë³€ì£¼ 2: ê°ì •ì˜ ê¹Šì´]</strong>\n`;
            v2 += `ìˆ¨ì„ ì£½ì´ê³  ì§€ì¼œë³´ë˜ ìˆœê°„, ${input} ì‹¬ì¥ì´ ì¿µì¿µ ë›°ê¸° ì‹œì‘í–ˆë‹¤. ê±°ë¶€í•  ìˆ˜ ì—†ëŠ” ìš´ëª…ì˜ ì¥ë‚œ ê°™ì•˜ë‹¤. ë„ì €íˆ ë¯¿ì„ ìˆ˜ ì—†ëŠ” ê´‘ê²½ì´ì—ˆë‹¤.`;
            variations.push(v2);

            // Variation 3: Dissonance (Wildcard)
            let v3 = `<strong>[ë³€ì£¼ 3: ì™€ì¼ë“œì¹´ë“œ]</strong>\n`;
            if (useWildcard) {
                const randomWildcard = wildcardsData[Math.floor(Math.random() * wildcardsData.length)];
                // Extract clean text removing brackets
                const cleanWildcard = randomWildcard.replace(/\[.*?\]\s*/, ''); 
                v3 += `<em class="text-indigo-600 block mb-2 text-lg">ğŸ’¡ ìƒ‰ë‹¤ë¥¸ ê´€ì  ì£¼ì…: ${randomWildcard}</em>`;
                v3 += `ë§ˆì¹˜ <strong>${cleanWildcard}</strong> ëŠë‚Œì´ ë“¤ì—ˆë‹¤. ${input} ì¼ë°˜ì ì¸ ì±—ë´‡ì´ë¼ë©´ í•˜ì§€ ì•Šì•˜ì„ ì´ì§ˆì ì¸ í‘œí˜„ì´ ë‚´ ì‚¬ê³ ë¥¼ í™•ì¥ì‹œì¼°ë‹¤.`;
            } else {
                v3 += `${input} (ì™€ì¼ë“œì¹´ë“œê°€ ë¹„í™œì„±í™”ë˜ì–´ ì¼ìƒì ì¸ íë¦„ì„ ìœ ì§€í•©ë‹ˆë‹¤.)`;
            }
            variations.push(v3);

            return variations.join('\n\n');
        }

        // Event Listener
        const generateBtn = document.getElementById('generate-btn');
        const outputArea = document.getElementById('output-area');
        const statusIndicator = document.getElementById('status-indicator');

        generateBtn.addEventListener('click', () => {
            const userInput = document.getElementById('user-input').value;
            if (!userInput.trim()) { alert("ë¬¸ì¥ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."); return; }

            // UI Loading
            generateBtn.disabled = true;
            generateBtn.innerHTML = '<i class="fa-solid fa-circle-notch fa-spin"></i> ì‘ì„± ì¤‘...';
            statusIndicator.innerText = "Processing via Local LLM...";
            statusIndicator.className = "text-lg text-blue-600 font-sans animate-pulse";
            outputArea.innerHTML = '<div class="h-full flex items-center justify-center text-slate-400 text-xl">AIê°€ ë¬¸ë§¥ì„ ë¶„ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤...</div>';

            // Gather Inputs
            const lorebookState = {
                enabled: document.getElementById('lorebook-toggle').checked,
                text: document.getElementById('lorebook-input').value
            };
            const charState = {
                enabled: document.getElementById('char-toggle').checked,
                text1: document.getElementById('char1-input').value,
                text2: document.getElementById('char2-input').value
            };
            const styleState = document.querySelector('input[name="style"]:checked')?.value;
            const wildcardState = document.getElementById('wildcard-toggle').checked;

            // Simulate Network Delay
            setTimeout(() => {
                const resultText = generateResponse(userInput, lorebookState, charState, styleState, wildcardState);
                
                // Render Result
                const formattedOutput = resultText.split('\n\n').map((block, idx) => {
                    return `<div class="mb-8 p-6 bg-white border-l-8 border-slate-800 shadow-md transition-all duration-500 opacity-0 translate-y-4 animate-in" style="animation: slideUp 0.5s ease-out forwards ${idx * 0.2}s;">
                        <div class="text-slate-800 leading-loose whitespace-pre-wrap">${block}</div>
                    </div>`;
                }).join('');

                outputArea.innerHTML = formattedOutput;

                // Add animation keyframes dynamically if not present
                if (!document.getElementById('dynamic-styles')) {
                    const style = document.createElement('style');
                    style.id = 'dynamic-styles';
                    style.innerHTML = `@keyframes slideUp { to { opacity: 1; transform: translateY(0); } }`;
                    document.head.appendChild(style);
                }

                // Reset UI
                generateBtn.disabled = false;
                generateBtn.innerHTML = '<i class="fa-solid fa-pen-nib"></i> ì‘ì„± ì‹œì‘';
                statusIndicator.innerText = "Complete";
                statusIndicator.className = "text-lg text-green-600 font-sans font-bold";

            }, 1500);
        });

        // ============================================================
        // 2. Smooth Scroll Logic
        // ============================================================
        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth', block: 'start' });
            document.querySelectorAll('.nav-link').forEach(el => el.classList.remove('active'));
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
